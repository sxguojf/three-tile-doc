import{ai as f,aj as x,ak as v,al as h,V as d,am as y}from"./index.xb0hfx6i.js";import{d as w,p as i,v as k,x as V,c as l,o as _,j as n,e as g,t as s,_ as z}from"./framework.xbTv8SNN.js";const F={class:"container"},L={key:0,class:"location-info"},M={class:"location-info-text"},P={class:"location-info-text"},S={class:"location-info-text"},b={class:"location-info-text"},B=w({__name:"index1",setup(E){const c=i(null),t=i({x:0,y:0,z:0}),r=i(0);k(()=>{if(!c.value)return;const e=f.create({imgSource:new v,demSource:new x,lon0:90,debug:1});e.rotateX(-Math.PI/2);const o=new h(c.value);o.scene.add(e);const a=e.geo2world(new d(116.39180280130437,39.915285657622775,0)),u=new d(a.x,5e3,a.z+5e3);o.flyTo(a,u),o.addEventListener("update",m=>{Math.random()>.9&&(r.value=Math.round(1/m.delta))}),p(o,e),V(()=>{e.dispose()})});const p=(e,o)=>{e.container&&e.container.addEventListener("pointermove",a=>{t.value=y(a,o,e.camera)||{x:0,y:0,z:0}})};return(e,o)=>(_(),l("div",F,[n("div",{ref_key:"mapRef",ref:c,class:"map-container"},null,512),t.value?(_(),l("div",L,[n("span",M,"经度: "+s(t.value.x.toFixed(6))+"°",1),n("span",P,"纬度: "+s(t.value.y.toFixed(6))+"°",1),n("span",S,"海拔: "+s(t.value.z.toFixed(6))+"m",1),n("span",b,"FPS: "+s(r.value),1)])):g("",!0)]))}}),I=z(B,[["__scopeId","data-v-bb80f6a3"]]);export{I as default};
